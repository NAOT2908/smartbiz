<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="smartbiz_stock.report_stock_picking_phieu_nhap_kho" >
<t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                          <div class="row" style="font-family: Times New Roman;">
                                <div class="col-6 mb4 text-center mt-3">
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.name"/>
                                    </li>
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.street"/>
                                    </li>
                                </div>
                                <div class="col-6 text-center" style="margin-top:10px;" t-field="o.company_id.report_header" name="moto">
                                    <li style="list-style-type: none; font-weight: bold">
                                        <span>Mẫu số: 01 - VT</span>
                                    </li>
                                    <li style="list-style-type: none;">
                                        <span>(Ban hành theo Thông tư số 200/2014/TT-BTC Ngày 22/12/2014 của Bộ Tài chính)</span>
                                    </li>
                                </div>
                            </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center;width: 40px" name="th_no">Số TT</th>
                                      
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Tên, nhãn hiệu, quy cách, phẩm chất vật tư, dụng cụ sản phẩm, hàng hóa</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:auto" name="th_serial_number" class="text-center">
                                           <strong>Mã</strong>
                                        </th>
                                         <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:100px" name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>
                                    
                                        <th colspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:200px">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;">
                                           <strong>Ghi chú</strong>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Theo chứng từ</strong>
                                        </th>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Thực nhập</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                     <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    
                                    <t t-set="sorted_lines" t-value="o.move_ids"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                      <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                                <span t-field="ml.product_id.name"/><br/>
                                                <span t-field="ml.product_id.description_picking"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                             <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <!--<t t-set="total_qty_done" t-value="total_qty_done + ml.product_uom_qty"/>-->
                                                <t t-set="total_product_uom_qty" t-value="total_product_uom_qty + ml.product_uom_qty"/>
                                               
                                            </td>
                                           
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                               
                                                  <!-- <span t-if="o.state == 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  <!--<span t-if="o.state != 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  
                                                  <!--  <t t-set="total_weight_done" t-value="total_weight_done + ml.product_id.weight * ml.quantity"/>-->
                                                  <!--  <t t-set="total_weight_uom_qty" t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity"/>-->
                                                  <span t-if="o.state == 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <t t-set="total_qty_done" t-value="total_qty_done + ml.quantity"/>
                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                               
                                            </td>
                                            
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                              <!--<span t-field="ml.move_id.note"/>-->
                                            </td>
                                            
                                        </tr>
                                    </t>
                                    
                                    <t>
                                      <tr style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                         <td/>
                                        <td/>
                                        <!--<td><span t-if="o.state == 'done'"><t t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td style="font-size: 15px; font-weight: bold">
                                          <span t-if="o.state == 'done'" t-esc="total_qty_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
	                                        <span t-if="o.state != 'done'" t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                        </td>
                                        <td/>
                                      </tr>
                                    </t>
                                  </tbody>
                            </table>
                        </div>
                        
                        <!--<div>- Tổng số tiền (Viết bằng chữ):</div>-->
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)							                                </div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                      
                    </t>
                </t>
            </t>
         </t>
</template>

<template id="smartbiz_stock.report_stock_picking_phieu_nhap_kho_-_ma_quy_cach" >
<t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Diễn giải: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Quy cách</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left" >
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to" >
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center" >
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">

                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" >
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" >
                                                <div>
                                                </div>
                                            </td>
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                            <!--</td>-->
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span  t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            <!--<td/>-->
                                            <!--<td/>-->
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)							                                </div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
</template>

<template id="smartbiz_stock.report_stock_picking_phieu_nhap_kho_-_lo_-_han_su_dung_" >
<t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người giao hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Mã số: 
                                </div>
                                <div name="div_state">
                                    - Diễn giải: 
                                </div>
                                <div name="div_sched_date">
                                    - Nhập kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Số lô</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Hạn sử dụng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Mã kho</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <div t-esc="ml.expiration_date"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="o.warehouse_id.code" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <div>
                                                </div>
                                            </td>
                                            
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
</template>

<template id="smartbiz_stock.report_stock_picking_phieu_xuat_kho" >
<t t-call="web.html_container">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                          <div class="row" style="font-family: Arial;">
                                <div class="col-6 mb4 text-center mt-3">
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.name"/>
                                    </li>
                                    <li t-if="o.company_id.name" style="list-style-type: none;">
                                        <span t-field="o.company_id.street"/>
                                    </li>
                                </div>
                                <div class="col-6 text-center" style="margin-top:10px;" t-field="o.company_id.report_header" name="moto">
                                    <li style="list-style-type: none; font-weight: bold">
                                        <span>Mẫu số: 01 - VT</span>
                                    </li>
                                    <li style="list-style-type: none;">
                                        <span>(Ban hành theo Thông tư số 200/2014/TT-BTC Ngày 22/12/2014 của Bộ Tài chính)</span>
                                    </li>
                                </div>
                            </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người nhận hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ (bộ phận): 
                                </div>
                                <div name="div_sched_date">
                                    - Lý do xuất kho
                                </div>
                                <div name="div_sched_date">
                                    - Xuất tại kho (ngăn lô): <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" style="font-family: Arial;">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center;width: 40px" name="th_no">Số TT</th>
                                      
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Tên, nhãn hiệu, quy cách, phẩm chất vật tư, dụng cụ sản phẩm, hàng hóa</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:auto" name="th_serial_number" class="text-center">
                                           <strong>Mã</strong>
                                        </th>
                                         <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:100px" name="th_unit">
                                            <strong>ĐVT</strong>
                                        </th>
                                    
                                        <th colspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle; width:200px">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th rowspan="2" style="border: 1px solid black !important; text-align: center; vertical-align: middle;">
                                           <strong>Ghi chú</strong>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Yêu cầu</strong>
                                        </th>
                                        <th style="border: 1px solid black !important; text-align: center; vertical-align: middle; ">
                                            <strong>Thực xuất</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                     <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    
                                    <t t-set="sorted_lines" t-value="o.move_ids"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                      <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                                <span t-field="ml.product_id.name"/><br/>
                                                <span t-field="ml.product_id.description_picking"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                             <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                                <span t-if="o.state == 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <!--<t t-set="total_qty_done" t-value="total_qty_done + ml.product_uom_qty"/>-->
                                                <t t-set="total_product_uom_qty" t-value="total_product_uom_qty + ml.product_uom_qty"/>
                                               
                                            </td>
                                           
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                               
                                                  <!-- <span t-if="o.state == 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  <!--<span t-if="o.state != 'done'" t-esc="ml.product_id.weight * ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>-->
                                                  
                                                  <!--  <t t-set="total_weight_done" t-value="total_weight_done + ml.product_id.weight * ml.quantity"/>-->
                                                  <!--  <t t-set="total_weight_uom_qty" t-value="total_weight_uom_qty + ml.product_id.weight * ml.quantity"/>-->
                                                  <span t-if="o.state == 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                 <span t-if="o.state != 'done'" t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                                
                                                <!--<span t-if="o.state != 'done'" t-field="ml.reserved_uom_qty"/>-->
                                                
                                                <t t-set="total_qty_done" t-value="total_qty_done + ml.quantity"/>
                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                               
                                            </td>
                                            
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" name="td_uom">
                                              <!--<span t-field="ml.move_id.note"/>-->
                                            </td>
                                            
                                        </tr>
                                    </t>
                                    
                                    <t>
                                      <tr style="border: 1px solid black; text-align: center; vertical-align: middle;">
                                        <td/>
                                        <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                         <td/>
                                        <td/>
                                        <!--<td><span t-if="o.state == 'done'"><t t-esc="total_qty_done"/></span></td>-->
                                        <td style="font-size: 15px; font-weight: bold">
                                            <span t-esc="total_product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td style="font-size: 15px; font-weight: bold">
                                          <span t-if="o.state == 'done'" t-esc="total_qty_done" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
	                                        <span t-if="o.state != 'done'" t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        </td>
                                        <td/>
                                      </tr>
                                    </t>
                                  </tbody>
                            </table>
                        </div>
                        
                        <!--<div>- Tổng số tiền (Viết bằng chữ):</div>-->
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày.....tháng.....năm....</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;">
                         
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người nhận hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Phó Giám Đốc</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                        </div>
                      
                    </t>
                </t>
            </t>
         </t>
</template>

<template id="smartbiz_stock.report_stock_picking_phieu_xuat_kho_-_ma_quy_cach" >
<t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người nhận hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Lý do xuất kho: 
                                </div>
                                <div name="div_sched_date">
                                    - Xuất kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" t-if="o.move_line_ids and o.move_ids_without_package">
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Quy cách</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">

                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <div>
                                                </div>
                                            </td>
                                            <!--<td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                            <!--    <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>-->
                                            <!--</td>-->
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            <!--<td/>-->
                                            <!--<td/>-->
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center;font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center;font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người giao hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                        
                        </div>
                </t>
            </t>
        </t>
</template>

<template id="smartbiz_stock.report_stock_picking_phieu_xuat_kho_-_lo_-_han_su_dung_" >
<t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                        <div class="row">
                        <div class="col-6 mb4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 45px;" alt="Logo"/>
                        </div>
                        <div class="col-6 text-end" style="margin-top:22px;" t-field="o.company_id.report_header" name="moto">
                            <li t-if="o.company_id.name" style="list-style-type: none;">
                                <span t-field="o.company_id.name"/>
                            </li>
                        </div>
                    </div>
                        <div class="page">
                            <div class="row justify-content-end mb16">
                              <div style=" text-align: center; font-size: 13px; font-family: Arial; margin-top: 20px">
                                      <t t-if="'IN/' in o.name">
                                        <h3 style="text-align: center;">PHIẾU NHẬP KHO</h3>
                                      </t>
                                      <t t-if="'IN-TRANS/' in o.name">
                                         <h3 style="text-align: center;">PHIẾU NHẬP ĐIỀU CHUYỂN</h3>
                                      </t>
                                     
                                      <t t-if="'PICK' in o.name">
                                        <h3 style="text-align: center;">PHIẾU LẤY HÀNG</h3>
                                      </t>
                                       <t t-if="'OUT-TRANS' in o.name">
                                        <h3 style="text-align: center;">PHIẾU XUẤT ĐIỀU CHUYỂN</h3>
                                      </t>
                                      
                                      <t t-if="'OUT' in o.name">
                                       <h3 style="text-align: center;">PHIẾU XUẤT KHO</h3>
                                      </t>
                                   <!--<h3 style="color: #1c4ab5; font-weight: bolder" t-field="o.name"/>-->
                                   <!--<div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:300px; height:50px;'}"/>-->
                                   <span>Ngày: <span t-esc="time.strftime('%d')"/></span><span style="margin-left: 20px;">Tháng: <span t-esc="time.strftime('%m')"/></span><span style="margin-left: 20px;">Năm: <span t-esc="time.strftime('%Y')"/></span>
                                   <div>Số: <span t-field="o.origin"/></div>
                                  </div>
                             </div>
                             
                            <br/>
                            <br/>
                         <p/>
                            <div class="mt48 mb32">
                                <div class="" name="div_origin">
                                    - Họ và tên người nhận hàng: <span t-field="o.partner_id"/>
                                </div>
                                <div name="div_state">
                                    - Địa chỉ: 
                                </div>
                                <div name="div_state">
                                    - Mã số: 
                                </div>
                                <div name="div_state">
                                    - Lý do xuất kho: 
                                </div>
                                <div name="div_sched_date">
                                    - Xuất kho tại: <span t-field="o.warehouse_id.name"/>
                                </div>
                            </div>
                            <br/>
                            <table class="table table-sm table-bordered" >
                                <t t-set="has_barcode" t-value="any(move_line.product_id and move_line.product_id.sudo().barcode or move_line.package_id for move_line in o.move_line_ids)"/>
                                <t t-set="has_serial_number" t-value="any(move_line.lot_id or move_line.lot_name for move_line in o.move_line_ids)" groups="stock.group_production_lot"/>
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width: 40px;" name="th_no">Số TT</th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_product">
                                            <strong>Mã hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_unit">
                                            <strong>Tên hàng</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Số lô</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; ">
                                                <strong>Hạn sử dụng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:70px">
                                                <strong>Mã kho</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle; width:50px">
                                            <strong>ĐVT</strong>
                                        </th>

                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_from" align="left">
                                            <strong>Số lượng</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_to">
                                            <strong>Đơn giá</strong>
                                        </th>
                                        <th style="border: 1px solid black; text-align: center; vertical-align: middle;" name="th_serial_number" class="text-center">
                                            <strong>Thành tiền</strong>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="total_qty_done" t-value="0"/>
                                    <t t-set="total_product_uom_qty" t-value="0"/>
                                    <t t-set="total_product_quantity" t-value="0"/>
                                    <t t-set="total_weight_done" t-value="0"/>
                                    <t t-set="total_weight_uom_qty" t-value="0"/>
                                    <t t-set="sorted_lines" t-value="o.move_line_ids.sorted(key=lambda x: x.move_id.id)"/>
                                    <t t-set="index" t-value="0"/>
                                    <t t-foreach="sorted_lines" t-as="ml">
                                        <t t-set="index" t-value="index + 1"/>
                                        <tr>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="index"/>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <span t-field="ml.product_id.default_code"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" class=" text-center h6">
                                                <!--<div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name" t-options="{'widget': 'barcode', 'symbology': 'auto', 'width': 400, 'height': 100, 'quiet': 0, 'img_style': 'height:35px;'}"/>-->
                                                <div t-if="has_serial_number and (ml.lot_id or ml.lot_name)" t-esc="ml.lot_id.name or ml.lot_name"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;">
                                                <div t-esc="ml.expiration_date"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="o.warehouse_id.code" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" name="td_uom_group">
                                                <span t-field="ml.product_uom_id" groups="uom.group_uom"/>
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;" name="td_uom">
                                                <span t-field="ml.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>

                                                <t t-set="total_product_quantity" t-value="total_product_quantity + ml.quantity"/>
                                                
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                            </td>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <div>
                                                </div>
                                            </td>
                                            
                                            
                                        </tr>
                                    </t>

                                    <t>
                                        <tr style="border: 1px solid black; vertical-align: middle;">
                                            <td/>
                                            <td style="font-size: 15px; font-weight: bold">Tổng cộng</td>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td/>
                                            <td style="border: 1px solid black; text-align: right; vertical-align: middle;">
                                                <span t-esc="total_product_quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td/>
                                            <td/>
                                            
                                        </tr>
                                    </t>

                                </tbody>
                            </table>
                        </div>
                        <p/>
                        <div>- Tổng số tiền (Viết bằng chữ):</div>
                        <div>- Số chứng từ gốc kèm theo: </div>
                        <p/>
                        <div class="row" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div>Ngày....tháng....năm</div>
                            </div>
                        
                        </div>
                        <div class="row mb32" id="informations" style="display: flex; justify-content: space-between ;text-align: center; font-family: Arial;">
                         
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người lập phiếu</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Người nhận hàng</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-2 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Thủ kho</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                           
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Kế toán trưởng</div>
                                <div style="font-weight: bold;">(Hoặc bộ phận có nhu cầu nhập)</div>
                                <div>(Ký, họ tên)</div>
                            </div>
                            <div class="col-auto col-3 mw-100 mb-2" style="text-align: center;">
                                <div style="font-weight: bold;">Phó Giám Đốc</div>
                                 <div>(Ký, họ tên)</div>
                            </div>
                        </div>
                </t>
            </t>
        </t>
</template>


</odoo>
